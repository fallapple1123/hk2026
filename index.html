<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 é¦™æ¸¯è¿ªå£«å°¼ãƒ»å®¶æ—å°Šæ¦®å¤§å†’éšª</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --disney-blue: #004B8D;
            --disney-gold: #FFD700;
            --accent-red: #E91E63;
            --bg-soft: #FDFCFB;
            --card-shadow: 0 10px 30px rgba(0, 75, 141, 0.1);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Noto Sans TC', sans-serif !important; }

        body { 
            background: var(--bg-soft); 
            color: #444; margin: 0; padding-bottom: 30px; 
            background-image: radial-gradient(var(--disney-gold) 0.5px, transparent 0.5px);
            background-size: 25px 25px;
        }

        header {
            background: var(--disney-blue); color: white; padding: 15px; text-align: center;
            position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .flight-banner {
            background: white; margin: 15px; padding: 15px; border-radius: 20px;
            border: 2px solid var(--disney-gold); display: flex; justify-content: space-between; align-items: center;
            box-shadow: var(--card-shadow);
        }
        .flight-tag { font-size: 0.85em; font-weight: 700; color: var(--disney-blue); }

        /* åˆ†é åˆ‡æ› - å¢åŠ é›†ç« æŒ‰éˆ• */
        .nav-tabs {
            display: flex; background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px);
            position: sticky; top: 52px; z-index: 999; padding: 10px; gap: 6px; overflow-x: auto;
            border-bottom: 1px solid #eee;
        }
        .tab-btn {
            flex-shrink: 0; padding: 10px 16px; border: none; border-radius: 50px;
            background: #f0f0f0; font-weight: 700; color: #777; white-space: nowrap; transition: 0.3s;
            font-size: 0.9em;
        }
        .tab-btn.active { background: var(--disney-gold); color: var(--disney-blue); transform: scale(1.05); }

        .container { padding: 15px; min-height: 70vh; }
        .day-section { display: none; }
        .day-section.active { display: block; animation: slideUp 0.4s ease; }

        /* å¡ç‰‡èˆ‡æ™‚é–“è»¸ */
        .timeline-card {
            background: white; border-radius: 20px; padding: 20px; margin-bottom: 20px;
            box-shadow: var(--card-shadow); border-left: 6px solid var(--disney-blue);
        }
        .time-badge {
            background: var(--accent-red); color: white; padding: 3px 12px;
            border-radius: 8px; font-size: 0.85em; font-weight: 700; margin-bottom: 10px; display: inline-block;
        }
        .card-title { font-size: 1.1em; font-weight: 700; color: var(--disney-blue); margin-bottom: 8px; }
        
        .strategy-box { background: #E3F2FD; border-radius: 12px; padding: 12px; margin-top: 10px; font-size: 0.88em; border: 1px solid #BBDEFB; }
        .tag { display: inline-block; background: white; border: 1px solid var(--disney-blue); color: var(--disney-blue); padding: 2px 8px; border-radius: 5px; margin: 2px; font-size: 0.85em; }

        .food-box { background: #FFF3E0; border-radius: 12px; padding: 12px; margin-top: 10px; border: 1px solid #FFE0B2; font-size: 0.9em; }
        .map-btn {
            display: inline-flex; align-items: center; background: white; color: var(--disney-blue);
            padding: 6px 14px; border-radius: 50px; text-decoration: none; border: 1.5px solid var(--disney-blue);
            font-size: 0.8em; font-weight: 700; margin-top: 8px;
        }

        /* éŒ¢åŒ…æ¨£å¼ */
        .wallet-input { width: 100%; padding: 14px; border-radius: 12px; border: 1px solid #ccc; margin-bottom: 12px; font-size: 1em; }
        .expense-item { display: flex; justify-content: space-between; background: white; padding: 15px; border-radius: 12px; margin-bottom: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }

        /* é›†ç« ç¨ç«‹åˆ†é æ¨£å¼ */
        .stamp-page-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; padding: 10px;
        }
        .stamp-page-slot {
            background: white; aspect-ratio: 1; border-radius: 20px; border: 2.5px dashed #ccc;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            filter: grayscale(1); transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            padding: 10px; text-align: center;
        }
        .stamp-page-slot.got {
            filter: grayscale(0); border: 3px solid var(--disney-gold); background: #FFFDE7;
            transform: rotate(5deg) scale(1.05); box-shadow: var(--card-shadow);
        }
        .stamp-page-slot img { width: 60%; margin-bottom: 10px; }
        .stamp-label { font-size: 0.75em; font-weight: 700; color: #999; }
        .stamp-page-slot.got .stamp-label { color: var(--disney-blue); }

        /* å‹•ç•«æ•ˆæœ */
        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8);
            display: none; align-items: center; justify-content: center; z-index: 10000;
        }
        .big-stamp { width: 220px; opacity: 0; transform: scale(3); transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .big-stamp.active { opacity: 1; transform: scale(1); }

        .btn-main {
            width: 100%; padding: 16px; border-radius: 15px; border: none;
            background: var(--disney-gold); color: var(--disney-blue);
            font-weight: 700; font-size: 1em; cursor: pointer; margin-top: 15px;
            box-shadow: 0 4px 0 #b79a00;
        }
        .btn-main:active { transform: translateY(2px); box-shadow: 0 2px 0 #b79a00; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <header><h1>2026 å®¶æ—å°Šæ¦®å¤§å†’éšª</h1></header>

    <div class="flight-banner">
        <div><span class="flight-tag">2/19 BR891</span><br><small>07:00 ğŸ›« 09:00</small></div>
        <div style="font-size: 1.5em;">âœˆï¸</div>
        <div style="text-align: right;"><span class="flight-tag">2/22 BR868</span><br><small>13:30 ğŸ›« 15:20</small></div>
    </div>

    <div class="nav-tabs">
        <button class="tab-btn active" onclick="switchTab(1)">Day 1</button>
        <button class="tab-btn" onclick="switchTab(2)">Day 2</button>
        <button class="tab-btn" onclick="switchTab(3)">Day 3</button>
        <button class="tab-btn" onclick="switchTab(4)">Day 4</button>
        <button class="tab-btn" onclick="switchTab(5)">ğŸ“œ é›†ç« </button>
        <button class="tab-btn" onclick="switchTab(6)">ğŸ’° éŒ¢åŒ…</button>
    </div>

    <div class="container">
        <div id="section-1" class="day-section active">
            <div class="timeline-card">
                <span class="time-badge">04:30</span>
                <div class="card-title">å‡ºç™¼ â” æ¡ƒåœ’æ©Ÿå ´</div>
                <p>é ç´„é€æ©Ÿï¼Œé è¨ˆ 05:30 æŠµé”äºŒèˆªè¾¦ç†ç™»æ©Ÿã€‚</p>
            </div>
            <div class="timeline-card">
                <span class="time-badge">10:00</span>
                <div class="card-title">ğŸ‡­ğŸ‡° æŠµæ¸¯ â” å°ˆè»Šæ¥é€</div>
                <p>é ç´„ <strong>7 äººåº§ç§å®¶å°ˆè»Š</strong> ç›´é”é£¯åº—å¯„å­˜è¡Œæã€‚</p>
                <a href="https://www.google.com/maps/search/?api=1&query=Disney+Hollywood+Hotel" class="map-btn" target="_blank">ğŸ—ºï¸ å°èˆªè‡³é£¯åº—</a>
            </div>
            <div class="timeline-card">
                <span class="time-badge">11:30</span>
                <div class="card-title">ğŸ° è¿ªå£«å°¼æ¨‚åœ’ï¼šé¦¬å¹´é–‹æ˜¥</div>
                <div class="strategy-box">
                    <strong>éŠåœ’é †åºï¼š</strong><br>
                    <span class="tag">å°å°ä¸–ç•Œ</span> â” <span class="tag">å°ç†Šç¶­å°¼</span> â” <span class="tag">å·´æ–¯å…‰å¹´</span> â” <span class="tag">ä¸‹åˆå·¡éŠ</span>
                </div>
                <div class="food-box">ğŸ´ 13:00 åœ’å…§åˆé¤ (å¤§è¡—é¤å»³/å»£å ´é£¯åº—)</div>
                <div class="strategy-box" style="background:#FFF9C4; border-color:#FBC02D;">
                    âœ¨ <strong>20:00 ç…™ç«ç§€ï¼š</strong> å»ºè­° 19:15 æå‰å¡ä½å¡ä½ã€‚
                </div>
                <button class="btn-main" onclick="playStamp(0)">âœ¨ è“‹ç« ï¼šæŠµé”å¤¢å¹»å³¶</button>
            </div>
        </div>

        <div id="section-2" class="day-section">
            <div class="timeline-card">
                <span class="time-badge">09:30</span>
                <div class="card-title">â„ï¸ ææ—©å…¥åœ’ï¼šé­”é›ªå¥‡ç·£</div>
                <p>07:30 é£¯åº—æ—©é¤å¾Œå‡ºç™¼ã€‚å…ˆè¡ã€Œé­”é›ªå¥‡ç·£ä¹‹æ—…ã€èˆ‡ã€Œé›ªå¶ºæ»‘é›ªæ©‡ã€ã€‚</p>
            </div>
            <div class="timeline-card">
                <span class="time-badge">15:00</span>
                <div class="card-title">ğŸš• è½‰å ´ï¼šå°–æ²™å’€é‡‘åŸŸå‡æ—¥</div>
                <p>æ­ä¹˜ Taxi (ç´„ HK$230) å¾€é£¯åº—ã€‚16:00 Check in ä¼‘æ¯ã€‚</p>
            </div>
            <div class="timeline-item card">
                <div class="timeline-card">
                    <span class="time-badge">17:40</span>
                    <div class="card-title">ğŸš  å¤ªå¹³å±±ç™¾è¬å¤œæ™¯</div>
                    <p>17:00 æ­çš„å£« (ç´„ HK$120) å¾€çºœè»Šç«™ã€‚æ¬£è³çµ•ç¾æµ·æ¸¯ã€‚</p>
                    <div class="food-box">
                        ğŸœ <strong>å±±é ‚ç¾é£Ÿï¼š</strong> éº¥å¥€é›²åéºµ æˆ– Wildfire Pizza
                    </div>
                    <button class="btn-main" onclick="playStamp(1)">ğŸ”ï¸ è“‹ç« ï¼šç™»é ‚å¤ªå¹³å±±</button>
                </div>
            </div>
        </div>

        <div id="section-3" class="day-section">
            <div class="timeline-card">
                <span class="time-badge">09:30</span>
                <div class="card-title">ğŸ¬ æµ·æ´‹å…¬åœ’å¤§å†’éšª</div>
                <div class="food-box" style="background:#E3F2FD;">
                    ğŸ¥¨ <strong>æ—©é¤æ¨è–¦ï¼š</strong> æ¾³æ´²ç‰›å¥¶å…¬å¸ æˆ– è¯å«‚å†°å®¤
                </div>
                <div class="strategy-box">
                    ğŸ¼ <strong>å¿…è¡ï¼š</strong> å¤§ç†Šè²“é›™èƒèƒ â” æµ·æ´‹åˆ—è»Š â” ä¼éµé¤¨ â” 14:00 æµ·è±šç§€
                </div>
                <a href="https://www.google.com/maps/search/?api=1&query=Ocean+Park+Hong+Kong" class="map-btn" target="_blank">ğŸ—ºï¸ å°èˆªå»æµ·æ´‹å…¬åœ’</a>
            </div>
            <div class="timeline-card" style="border-left-color: #4CAF50;">
                <span class="time-badge" style="background:#4CAF50;">18:30</span>
                <div class="card-title">ğŸ¥¢ æ™šå®´ï¼šè“®é¦™æ¨“ (å°–æ²™å’€)</div>
                <p><strong>å·²è¨‚ä½ï¼š7 ä½</strong>ã€‚é«”é©—ç¶“å…¸æ‰‹æ¨è»Šé£²èŒ¶ã€‚</p>
                <div class="strategy-box">
                    ğŸ <strong>ä¼´æ‰‹ç¦®æ¨è–¦ï¼š</strong> çå¦®æ›²å¥‡ã€çš‡ç¥è´è¶é…¥ã€‚
                </div>
                <button class="btn-main" onclick="playStamp(3)">ğŸ¬ è“‹ç« ï¼šæµ·æ´‹æ¢éšªå®¶</button>
            </div>
        </div>

        <div id="section-4" class="day-section">
            <div class="timeline-card">
                <span class="time-badge">08:30</span>
                <div class="card-title">å°–æ²™å’€å·¡ç¦® â” æ©Ÿå ´</div>
                <div class="food-box">ğŸ¥ <strong>å¿…è²·ï¼š</strong> Bakehouse è›‹å¡” (æµ·é‹å¤§å»ˆé™„è¿‘)</div>
                <div class="strategy-box" style="background:#FFFDE7;">
                    âš¡ <strong>åŠ æ¼”è¡Œç¨‹ï¼šPokemon Mezastar</strong><br>
                    å°–æ²™å’€æµ·é‹å¤§å»ˆ SHOP OT G11 - Ocean Terminal
                    <a href="https://www.google.com/maps/search/?api=1&query=Ocean+Terminal+Pokemon+Mezastar" class="map-btn" target="_blank">ğŸ—ºï¸ å°èˆªå»å¯¶å¯å¤¢</a>
                </div>
            </div>
            <div class="timeline-card">
                <span class="time-badge">13:30</span>
                <div class="card-title">âœˆï¸ è³¦æ­¸ï¼šé•·æ¦® BR868</div>
                <p>10:30 å‡ºç™¼å‰å¾€æ©Ÿå ´ï¼Œå¸¶æ»¿æˆ°åˆ©å“å›å®¶ï¼</p>
                <button class="btn-main" onclick="playStamp(6)">ğŸ† è“‹ç« ï¼šåœ“æ»¿å¤§æˆåŠŸ</button>
            </div>
        </div>

        <div id="section-5" class="day-section">
            <div class="timeline-card" style="border-left:none; text-align:center;">
                <div class="card-title">ğŸ“œ å†’éšªé›†ç« å†Š</div>
                <p style="font-size:0.85em; color:#888;">å®Œæˆè¡Œç¨‹é»æ“Šè“‹ç« ï¼Œå¯«ä¸‹å®¶äººçš„ç²¾å½©å›æ†¶ï¼</p>
            </div>
            <div class="stamp-page-grid" id="stampGrid">
                <div class="stamp-page-slot"><img src="fantasy castle.png"><span class="stamp-label">è¿ªå£«å°¼æ¨‚åœ’</span></div>
                <div class="stamp-page-slot"><img src="horse.png"><span class="stamp-label">å¤ªå¹³å±±é ‚</span></div>
                <div class="stamp-page-slot"><img src="cable car.png"><span class="stamp-label">å±±é ‚çºœè»Š</span></div>
                <div class="stamp-page-slot"><img src="ocean park.png"><span class="stamp-label">æµ·æ´‹å…¬åœ’</span></div>
                <div class="stamp-page-slot"><img src="shopping.png"><span class="stamp-label">å°–æ²™å’€è¡€æ‹š</span></div>
                <div class="stamp-page-slot"><img src="cookie.png"><span class="stamp-label">åç”¢å…¥æ‰‹</span></div>
                <div class="stamp-page-slot"><img src="airplane.png"><span class="stamp-label">å¹³å®‰æ­¸åœ‹</span></div>
                <div class="stamp-page-slot"><img src="hidden_master.png"><span class="stamp-label">éš±è—å¤§å¸«</span></div>
            </div>
        </div>

        <div id="section-6" class="day-section">
            <div class="timeline-card" style="border-left-color: #2E7D32;">
                <div class="card-title" style="color:#2E7D32;">ğŸ’° å†’éšªéŒ¢åŒ…</div>
                <input type="text" id="expName" class="wallet-input" placeholder="é …ç›® (ä¾‹å¦‚ï¼šå°ˆè»Šè»Šè³‡)">
                <input type="number" id="expAmt" class="wallet-input" placeholder="æ¸¯å¹£é‡‘é¡ (HKD)">
                <button class="btn-main" style="background:#2E7D32; color:white; box-shadow:0 4px 0 #1b5e20;" onclick="addExpense()">ğŸ“ å­˜å…¥å¸³å–®</button>
            </div>
            <div id="expenseList"></div>
            <div class="timeline-card" style="text-align: right;">
                <strong>ç¸½è¨ˆ NT$ <span id="totalTwd">0</span></strong>
            </div>
        </div>
    </div>

    <div id="overlay"><img id="overlay-img" class="big-stamp" src=""></div>
    <audio id="sfx" src="https://assets.mixkit.co/active_storage/sfx/2041/2041-preview.mp3" preload="auto"></audio>

    <script>
        let stamps = JSON.parse(localStorage.getItem('hk_stamps_2026')) || [];
        let expenses = JSON.parse(localStorage.getItem('hk_exp_2026')) || [];
        const STAMP_FILES = ["fantasy castle.png", "horse.png", "cable car.png", "ocean park.png", "shopping.png", "cookie.png", "airplane.png", "hidden_master.png"];

        function switchTab(idx) {
            document.querySelectorAll('.day-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('section-' + idx).classList.add('active');
            document.querySelectorAll('.tab-btn')[idx-1].classList.add('active');
            window.scrollTo(0, 0);
        }

        function playStamp(idx) {
            const sound = document.getElementById('sfx');
            const overlay = document.getElementById('overlay');
            const img = document.getElementById('overlay-img');
            
            img.src = STAMP_FILES[idx];
            overlay.style.display = 'flex';
            setTimeout(() => img.classList.add('active'), 50);
            sound.currentTime = 0; sound.play().catch(e => {});

            // å‹•ç•«æ’­æ”¾å¾Œï¼Œè·³è½‰è‡³é›†ç« åˆ†é  (Index 5)
            setTimeout(() => {
                overlay.style.display = 'none';
                img.classList.remove('active');
                if (!stamps.includes(idx)) {
                    stamps.push(idx);
                    localStorage.setItem('hk_stamps_2026', JSON.stringify(stamps));
                    renderStamps();
                }
                switchTab(5); // è·³è½‰åˆ°é›†ç«  Sheet
            }, 800);
        }

        function renderStamps() {
            const slots = document.querySelectorAll('.stamp-page-slot');
            stamps.forEach(idx => slots[idx].classList.add('got'));
        }

        function addExpense() {
            const name = document.getElementById('expName').value;
            const amt = document.getElementById('expAmt').value;
            if(!name || !amt) return alert('è«‹å¡«å¯«å®Œæ•´å–”ï¼');
            expenses.push({ name, hkd: parseFloat(amt) });
            localStorage.setItem('hk_exp_2026', JSON.stringify(expenses));
            document.getElementById('expName').value = '';
            document.getElementById('expAmt').value = '';
            renderExpenses();
        }

        function renderExpenses() {
            const list = document.getElementById('expenseList');
            let total = 0;
            list.innerHTML = expenses.map(e => {
                total += e.hkd * 4;
                return `<div class="expense-item"><span>${e.name}</span><strong>NT$ ${Math.round(e.hkd * 4)}</strong></div>`;
            }).join('');
            document.getElementById('totalTwd').innerText = total.toLocaleString();
        }

        // åˆå§‹åŒ–
        renderStamps(); renderExpenses();
    </script>
</body>
</html>
