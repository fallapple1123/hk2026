<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 é¦™æ¸¯é¦¬å¹´å†’éšªç¹ªæœ¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Zen+Kurenaido&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #FFF9F2;
            --p-pink: #FFD1D1;
            --a-blue: #D1E9FF;
            --text: #5D4037;
            --line: 2px solid #5D4037;
        }

        /* é—œéµï¼šçµ±ä¸€å…¨åŸŸå­—é«” */
        * { 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
            font-family: 'Zen Kurenaido', 'Ma Shan Zheng', cursive, sans-serif !important; 
        }

        body { 
            background-color: var(--bg); 
            /* èª¿æ•´èƒŒæ™¯ï¼šåŠ å…¥æ‰‹ç¹ªç´™å¼µåº•ç´‹æ„Ÿ */
            background-image: radial-gradient(#e5e5f7 0.5px, transparent 0.5px), radial-gradient(#e5e5f7 0.5px, #FFF9F2 0.5px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            color: var(--text); 
            margin: 0; 
            padding: 15px; 
        }

        h1, h2, h3 { font-family: 'Ma Shan Zheng', cursive !important; text-align: center; margin: 10px 0; }

        .card {
            background: white; border: var(--line); border-radius: 25px 15px 30px 20px / 15px 30px 20px 25px;
            padding: 15px; margin-bottom: 20px; box-shadow: 4px 4px 0px rgba(93, 64, 55, 0.1);
        }

        /* èˆªç­è³‡è¨Šå¡ç‰‡ */
        .flight-card { background: #fef9e7; border: 2px dashed var(--text); padding: 10px; border-radius: 15px; margin-bottom: 20px; }
        .flight-info { display: flex; justify-content: space-between; align-items: center; font-size: 0.9em; }

        .tabs { display: flex; gap: 8px; margin-bottom: 15px; overflow-x: auto; }
        .tab { flex: 1; padding: 10px; border: var(--line); border-radius: 15px; text-align: center; background: var(--a-blue); cursor: pointer; font-weight: bold; min-width: 65px; }
        .tab.active { background: var(--p-pink); }

        .timeline-item { border-left: 2px dashed var(--text); padding-left: 20px; position: relative; margin-bottom: 15px; }
        .timeline-item::before { content: 'ğŸ'; position: absolute; left: -14px; top: 0; background: white; font-size: 18px; border-radius: 50%; }
        
        .btn { display: flex; align-items: center; justify-content: center; gap: 10px; width: 100%; padding: 10px; margin-top: 8px; background: var(--p-pink); border: var(--line); border-radius: 12px; font-weight: bold; cursor: pointer; text-decoration: none; color: inherit; }

        .stamp-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .stamp { aspect-ratio: 1; border: 2px dashed #CCC; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #f9f9f9; overflow: hidden; filter: grayscale(1); transition: 0.5s; }
        .stamp img { width: 100%; height: 100%; object-fit: contain; }
        .stamp.got { filter: grayscale(0); border: 2px solid var(--p-pink); background: #FFF0F0; transform: rotate(8deg); }

        .input-box { width: 100%; padding: 10px; border: 1px solid var(--text); border-radius: 10px; margin-bottom: 8px; font-size: 1em; }
        .expense-row { display: flex; justify-content: space-between; border-bottom: 1px dotted #ccc; padding: 5px 0; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <h1>ğŸ 2026 é¦™æ¸¯å†’éšªæ‰‹å¸³</h1>

    <div class="flight-card">
        <h3>âœˆï¸ èˆªç­è³‡è¨Š</h3>
        <div class="flight-info">
            <div>
                <strong>å»ç¨‹ BR891</strong><br>
                <small>2/19 07:00 - 09:00</small>
            </div>
            <div style="font-size: 1.5em;">âœˆï¸</div>
            <div style="text-align: right;">
                <strong>å›ç¨‹ BR868</strong><br>
                <small>2/22 13:30 - 15:20</small>
            </div>
        </div>
    </div>

    <div class="tabs">
        <div class="tab active" onclick="setDay(1)">D1</div>
        <div class="tab" onclick="setDay(2)">D2</div>
        <div class="tab" onclick="setDay(3)">D3</div>
        <div class="tab" onclick="setDay(4)">D4</div>
    </div>

    <div id="itinerary">
        <div id="day1" class="day-section">
            <div class="timeline-item card">
                <strong>07:00 é•·æ¦® BR891 å‡ºç™¼</strong>
                <p>2/19 æŠµé”é¦™æ¸¯å¾Œå°ˆè»Šå‰å¾€å¥½èŠå¡¢é…’åº—å¯„è¡Œæã€‚</p>
                <button class="btn" onclick="addStamp(0)"><img src="fantasy castle.png" width="30"> è“‹ä¸ŠæŠµé”ç« </button>
            </div>
            <div class="timeline-item card">
                <strong>11:00 è¿ªå£«å°¼æ¨‚åœ’ Day 1</strong>
                <p>è¡åˆºç†±é–€è¨­æ–½ï¼</p>
            </div>
        </div>

        <div id="day2" class="day-section hidden">
            <div class="timeline-item card">
                <strong>10:00 è¿ªå£«å°¼æ¨‚åœ’ Day 2</strong>
                <button class="btn" onclick="addStamp(1)"><img src="horse.png" width="30"> é¦¬å¹´æ—‹è½‰æœ¨é¦¬ç« </button>
            </div>
            <div class="timeline-item card">
                <strong>18:00 å¤ªå¹³å±±é ‚å¤œæ™¯</strong>
                <button class="btn" onclick="addStamp(2)"><img src="cable car.png" width="30"> å¤ªå¹³å±±çºœè»Šç« </button>
            </div>
        </div>

        <div id="day3" class="day-section hidden">
            <div class="timeline-item card">
                <strong>10:00 æµ·æ´‹å…¬åœ’å…¨æ—¥éŠ</strong>
                <button class="btn" onclick="addStamp(3)"><img src="ocean park.png" width="30"> æµ·æ´‹å†’éšªç« </button>
            </div>
        </div>

        <div id="day4" class="day-section hidden">
            <div class="timeline-item card">
                <strong>09:00 ä¼´æ‰‹ç¦®è£œè²¨</strong>
                <button class="btn" onclick="addStamp(5)"><img src="cookie.png" width="30"> ä¼´æ‰‹ç¦®ç« </button>
            </div>
            <div class="timeline-item card">
                <strong>13:30 é•·æ¦® BR868 å›ç¨‹</strong>
                <p>é è¨ˆ 15:20 æŠµé”å°ç£ã€‚</p>
                <button class="btn" onclick="addStamp(6)"><img src="airplane.png" width="30"> å†’éšªæ»¿è¼‰ç« </button>
            </div>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ“œ 2026 é¦¬å¹´é›†ç« å†Š</h3>
        <div class="stamp-grid" id="stampBox">
            <div class="stamp"><img src="fantasy castle.png"></div>
            <div class="stamp"><img src="horse.png"></div>
            <div class="stamp"><img src="cable car.png"></div>
            <div class="stamp"><img src="ocean park.png"></div>
            <div class="stamp"><img src="cookie.png"></div>
            <div class="stamp"><img src="shopping.png"></div>
            <div class="stamp"><img src="airplane.png"></div>
            <div class="stamp"><img src="hidden_master.png"></div>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ’° å†’éšªéŒ¢åŒ…</h3>
        <input type="text" id="expNote" class="input-box" placeholder="è²·äº†ä»€éº¼å‘¢ï¼Ÿ">
        <input type="number" id="expAmt" class="input-box" placeholder="æ¸¯å¹£é‡‘é¡">
        <button class="btn" onclick="saveExp()">ğŸ“ å­˜å…¥å¸³å–®</button>
        <div id="expList" style="margin-top: 15px;"></div>
        <div style="text-align: right; font-weight: bold; border-top: 1px dashed #ccc; padding-top: 10px;">
            ç¸½è¨ˆï¼š<span id="totalTwd" style="color: #D32F2F;">0</span> TWD
        </div>
    </div>

    <script>
        function setDay(d) {
            document.querySelectorAll('.day-section').forEach((s, i) => s.classList.toggle('hidden', i+1 !== d));
            document.querySelectorAll('.tab').forEach((t, i) => t.classList.toggle('active', i+1 === d));
        }

        let stamps = JSON.parse(localStorage.getItem('hk_stamps')) || [];
        function updateStamps() {
            const items = document.querySelectorAll('.stamp');
            stamps.forEach(idx => { if (items[idx]) items[idx].classList.add('got'); });
            if (stamps.length >= 7 && !stamps.includes(7)) {
                setTimeout(() => { alert("ğŸŠ éš±è—è§£é–ï¼šé¦¬å¹´å¤§å†’éšªå®¶ï¼"); addStamp(7); }, 1000);
            }
        }
        function addStamp(idx) {
            if(!stamps.includes(idx)) {
                stamps.push(idx);
                localStorage.setItem('hk_stamps', JSON.stringify(stamps));
                updateStamps();
            }
        }

        let expData = JSON.parse(localStorage.getItem('hk_exp')) || [];
        function showExp() {
            const list = document.getElementById('expList');
            let sum = 0;
            list.innerHTML = '';
            expData.forEach(e => {
                sum += e.amt * 4;
                list.innerHTML += `<div class="expense-row"><span>${e.note}</span><span>NT${e.amt*4}</span></div>`;
            });
            document.getElementById('totalTwd').innerText = sum.toLocaleString();
        }
        function saveExp() {
            const note = document.getElementById('expNote').value;
            const amt = document.getElementById('expAmt').value;
            if(note && amt) {
                expData.push({note, amt: parseFloat(amt)});
                localStorage.setItem('hk_exp', JSON.stringify(expData));
                document.getElementById('expNote').value = '';
                document.getElementById('expAmt').value = '';
                showExp();
            }
        }

        updateStamps();
        showExp();
    </script>
</body>
</html>
